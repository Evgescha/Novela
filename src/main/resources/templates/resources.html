<html xmlns:th="https://www.thymeleaf.org">
<head>
<title>Resources</title>
<meta th:replace="~{commons :: head}"></meta>
<link
	href="/forPages/fileinput/fileinput.min.css"
	media="all" rel="stylesheet" type="text/css" />
<script
	src="/forPages/fileinput/fileinput.min.js"
	type="text/javascript"></script>
<script
	src="/forPages/fileinput/theme.min.js"
	type="text/javascript"></script>
</head>
<body>

	<div th:replace="~{commons :: nav}"></div>
	
	<h2 class="text-center" th:if="${message}" th:text="${message}"></h2>
	
	<section id="resources" class="my-5">
		<div class="resources container">
		<div class="row justify-content-center">
			<div id="content" class="col-sm-9">
		      <form id="form" action="/upload" method="post" enctype="multipart/form-data" class="form-horizontal">
		        <fieldset>
		          <legend>What you'll upload?</legend>
					<div class="form-group required">
						<label class="col-sm-2 control-label">Game name</label>
						<div class="col-sm-10 resourceInput">
							<select id="res_gameSelect" type="text" name="gameId" size="1"  class="form-control" required> 
								<option th:value="${game.id}" th:each="game:${games}" 
								th:if="${#request.userPrincipal.name==game.user.username or #request.isUserInRole('ADMIN')}"
								th:text="${game.title}">GameName</option>
							</select>
						</div>
					</div>
					<div class="form-group required">
						<label class="col-sm-2 control-label">Select resources type</label>
						<div class="col-sm-10 resourceInput">
							<select id="res_typeResSelect" name="type" size="1"  class="form-control">
								<option value="backgroundImages">BackgroundImages</option>
								<option value="specialImages">SpecialImages</option>
								<option value="screenImage">ScreenImage</option>
								<option value="characterImages">Characters</option>
								<option value="musicSound">MusicSound</option>
								<option value="sfxSound">SfxSound</option>
								<option value="ambienceSound">AmbienceSound</option>
							</select>
						</div>
					</div>
					<div class="form-group required">
						<label class="col-sm-2 control-label">Character's name</label>
						<div class="col-sm-10 resourceInput">
							<input required type="text" name="charName" placeholder="Michael" class="form-control" id="res_charName">
						</div>
					</div>
					<div class="form-group required">
						<label class="col-sm-2 control-label">Resources</label>
						<div class="col-sm-10 resourceInput">							
							<div class="form-group">
								<div class="file-loading">
									<input  type="file" class="file" multiple data-overwrite-initial="false" 
									name="files"  required > 
								</div>
							</div>
						</div>
					</div>	
				</fieldset>
		        <div class="buttons clearfix">
		          <div class="pull-left"><a href="/" class="btn btn-secondary">Main</a></div>
		          <div class="pull-right">
		            <input type="submit" value="Continue" class="btn btn-secondary">
		          </div>
		        </div>
		      </form>
		      </div>
	      </div>
		</div>
	</section>
	

	<div th:replace="~{commons :: footer}"></div>
	
	
	<script type="text/javascript">

	$('#res_charName').prop('disabled', true);
	$('#res_typeResSelect').change(function(){
		if ($('#res_typeResSelect').val()!="characterImages")
			$('#res_charName').prop('disabled', true);
		else 
			$('#res_charName').prop('disabled', false);
	});
	</script>
</body>
</html>